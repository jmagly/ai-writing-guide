# Codex Configuration Template for AIWG Projects
#
# Copy to ~/.codex/config.toml or project-specific location
# See https://github.com/openai/codex/blob/main/docs/config.md for full reference
#
# Usage:
#   aiwg -init-profile codex  # Generate this template
#   cp config.toml ~/.codex/config.toml

################################################################################
# Model Selection
################################################################################

# Primary model for Codex sessions
# Options: gpt-5.3-codex (most capable), codex-mini-latest (default, cost-effective),
#          gpt-5-codex-mini (4x more usage)
model = "codex-mini-latest"

# Model for /review command (use most capable for thorough code review)
review_model = "gpt-5.3-codex"

# Reasoning effort: minimal | low | medium | high | xhigh
model_reasoning_effort = "medium"

################################################################################
# Approval & Sandbox
################################################################################

# When to ask for approval: untrusted | on-failure | on-request | never
approval_policy = "on-request"

# Sandbox mode: read-only | workspace-write | danger-full-access
sandbox_mode = "workspace-write"

# Allow network in workspace-write mode (for npm install, etc.)
[sandbox_workspace_write]
network_access = true
writable_roots = []

################################################################################
# Project Documentation
################################################################################

# Max bytes from AGENTS.md to include in context
project_doc_max_bytes = 32768

# Fallback filenames when AGENTS.md is not found
# Enables CLAUDE.md compatibility for hybrid projects
project_doc_fallback_filenames = ["CLAUDE.md", "WARP.md"]

################################################################################
# Features
################################################################################

[features]
# Enable web search capability (cached by default, use --search for live)
web_search_request = true

# Enable image viewing (PNG, JPEG attachments in composer)
view_image_tool = true

################################################################################
# Skills
################################################################################

# Skills are loaded from ~/.codex/skills/ and .agents/skills/ in repos
# Use $skill-creator to bootstrap new skills

# Example: disable a specific skill
# [[skills.config]]
# name = "my-skill"
# enabled = false

################################################################################
# Memory
################################################################################

[memory]
# Thread memory summaries for cross-session context
enabled = true

################################################################################
# AIWG MCP Server (Optional)
################################################################################

# Uncomment to enable AIWG SDLC tools via MCP
#
# [mcp_servers.aiwg]
# command = "node"
# args = ["~/.local/share/ai-writing-guide/src/mcp/server.mjs"]
# startup_timeout_sec = 10.0
# tool_timeout_sec = 60.0
# enabled_tools = [
#   "workflow-run",
#   "artifact-read",
#   "artifact-write",
#   "template-render",
#   "agent-list"
# ]

################################################################################
# Profiles
################################################################################

# AIWG SDLC profile - full autonomy for development
[profiles.aiwg-sdlc]
model = "gpt-5.3-codex"
model_reasoning_effort = "high"
approval_policy = "on-request"
sandbox_mode = "workspace-write"

# Cost-effective development profile
[profiles.aiwg-dev]
model = "codex-mini-latest"
model_reasoning_effort = "medium"
approval_policy = "on-request"
sandbox_mode = "workspace-write"

# Read-only analysis profile
[profiles.aiwg-readonly]
model = "gpt-5-codex-mini"
model_reasoning_effort = "medium"
approval_policy = "on-request"
sandbox_mode = "read-only"

# Full autonomy profile (use with caution)
[profiles.aiwg-auto]
model = "gpt-5.3-codex"
model_reasoning_effort = "high"
approval_policy = "never"
sandbox_mode = "workspace-write"

################################################################################
# UI Settings
################################################################################

[tui]
# Desktop notifications
notifications = true

# Enable animations
animations = true

################################################################################
# History
################################################################################

[history]
# Save conversation history: save-all | none
persistence = "save-all"
